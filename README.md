# HTTP сервис по сокращению URL

Этот HTTP-сервис предоставляет простую функциональность сокращения URL.

## Реализация WebAPI

Сервер реализован на основе библиотеки **Boost.Asio** и **Boost.Beast** для обработки HTTP-запросов.

### 1) Запуск сервера:
- Создаётся **TCP-акцептор**, который слушает указанный адрес и порт.
- В бесконечном цикле сервер ожидает входящих соединений.
- При подключении нового клиента принимается HTTP-запрос.

### 2) Обработка запросов:
- **POST /shorten** - сервер передаёт запрос обработчику `handle_shorten`, который создаёт короткую ссылку и сохраняет её в базе данных.
- **GET /<short_url>** - сервер передаёт запрос обработчику `handle_redirect`, который ищет соответствующий длинный URL и перенаправляет клиента.

### 3) Обработчик перенаправления:
- Извлекает короткий URL из запроса.
- Проверяет его наличие в базе данных.
- Если URL найден, возвращает HTTP-ответ с кодом **301 Moved Permanently** и заголовком `Location`.
- Если URL отсутствует, возвращает **404 Not Found**.

---

## Предварительные требования

- **Компилятор С++ (Стандарт С++17)**
- **Сборка (Утилита CMake)**
- **Web API (библиотека Boost.Beast)**
- **База данных SQLite** для хранения пар `[сокращённый, исходный] URL`

---

## Установка и запуск

### 1) Клонирование репозитория
```sh
  git clone https://github.com/YourPluggg/Abbreviation_url.git
  cd Abbreviation_url
  mkdir build && cd build
```

### 2) Сборка проекта (CMake)
```sh
  cmake ..
  make
```

### 3) Запуск сервера
```sh
  ./abbreviated_url <IP> <PORT> <STORAGE_FILE>
```

---

## Использование

### 1) Сокращение URL
```sh
  curl -X POST http://localhost:8080/shorten -d "https://example.com"
```
**Ответ:**
```json
  {"short_url": "abc123"}
```

### 2) Переход по короткому URL
```sh
  curl -v http://localhost:8080/abc123
```
**Ответ:**
```http
  HTTP/1.1 301 Moved Permanently
  Location: https://example.com
```

